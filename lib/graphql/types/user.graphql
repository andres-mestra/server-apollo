directive @hasRole(roles: [Role]) on OBJECT | FIELD_DEFINITION
directive @isAuth on OBJECT | FIELD_DEFINITION

type User {
  id: ID!
  uid:String!
  name: String!
  email: String!
  role: Role!
  avatar:String
  bio:String
  coverImage:String
  facebook:String
  twitter:String
  slug:String
  #author: User!
  #tags: [Tag!]!
}

enum Role {
  ADMIN
  NORMAL
  EDITOR
}

type FieldError{
  field:String
  message:String
}

type AuthRes{
  user:User
  errors:[FieldError!]
  token:String
}

type Query {
  # Obtener users
  users(
    first: Int
    after: String
    last: Int
    before: String
  ): [User!] @hasRole(roles:[NORMAL])
}

type Mutation {
  register(
    name:String!
    email:String!
    password:String!
  ):AuthRes!

  login(
    email:String!
    password:String!
  ):AuthRes!
}